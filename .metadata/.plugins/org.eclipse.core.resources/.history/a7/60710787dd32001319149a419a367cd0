/**********************************************************************************************

 	Each scene consists of the following parameter:
 		- Expected MIDI notes to monitor (coming from Ableton)
 		- Audio channel to monitor
 		- The type of visuals to render

**********************************************************************************************/	

import java.util.ArrayList;
import processing.core.PApplet;

public class PyramidScene {
	
	int t;
	int[] range;
	Note[] notes;
	PApplet p;
	String name;
	ArrayList<Cluster> clusters;
	
	int colors[] = { 0x1ABC9C, 0x16A085, 0x2ECC71, 0x27AE60, 
					 0x3498DB, 0x2980B9, 0x9B59B6, 0x8E44AD,
					 0xF1C40F, 0xF39C12, 0xE67E22, 0xD35400, 
					 0xE74C3C, 0xC0392B };
	
	public PyramidScene(PApplet _p, String _name, Note[] _notes, int[] _range, int _t) {
		clusters = new ArrayList<Cluster>();
		name = _name;
		p = _p;
		notes = _notes;
		range = _range;
		t = _t;
		for (int i = 0; i < range.length; i++) {
			Note note = notes[range[i]];
			int[] pallete = { colors[(int) PApplet.abs( p.random(7) )], colors[(int) PApplet.abs( p.random(7) )],
							  colors[(int) PApplet.abs( p.random(7) )], colors[(int) PApplet.abs( p.random(7) )],
							  colors[(int) PApplet.abs( p.random(7) )] };
			clusters.add(new Cluster(p, note, pallete));
		}
	}
	
	public void draw() {
//		p.lights();
		p.noStroke();
		for(Cluster cluster: clusters) {
			cluster.draw();
		}
	}
}
